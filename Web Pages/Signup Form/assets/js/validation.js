const removeSpan=(e,t)=>{e.removeChild(t)},createSpan=(e,t)=>{const a=e.firstElementChild;t||(t=document.createElement("span"),e.appendChild(t)),"password"===a.type&&a.value.length>=1?t.textContent=`${a.id} must contain atleast 8 characters`:"email"===a.type&&a.value.length>=1&&!a.validity.valid?t.textContent="Looks like this is not an email":t.textContent=`${a.id} cannot be empty`},validate=e=>{const t=e.value.length,a=document.querySelector(`label[for=${e.id}]`),n=a.querySelector("span"),d=document.querySelector(".container");return"email"===e.type&&e.validity.valid&&t>=1?(n&&removeSpan(a,n),a.classList.remove("invalid"),d.classList.remove("expand"),!0):t>={text:1,password:8}[e.type]?(n&&removeSpan(a,n),a.classList.remove("invalid"),d.classList.remove("expand"),!0):(a.classList.add("invalid"),d.classList.add("expand"),void createSpan(a,n))},validateAll=e=>{for(let t=0;t<e.length;t++)if(!validate(e[t]))return!1;return!0},main=()=>{const e=document.querySelector("button.cta"),t=document.querySelectorAll(".name"),a=document.querySelectorAll("input"),n=document.getElementById("password"),d=document.getElementById("email"),l=[13,8,9,32,35,36,37,38,39,40],o=document.querySelector("form");t.forEach(e=>{e.addEventListener("keydown",t=>{-1!=l.indexOf(t.keyCode)||t.keyCode>=65&&t.keyCode<=90||t.keyCode>=97&&t.keyCode<=122||189===t.keyCode&&!1===t.shiftKey&&e.value.length||t.preventDefault()})}),a.forEach(e=>{e.addEventListener("paste",e=>{e.preventDefault()})}),n.addEventListener("keydown",e=>{32===e.keyCode&&e.preventDefault()}),d.addEventListener("keydown",e=>{(32===e.keyCode||(e.keyCode>=48&&e.keyCode<=57||189===e.keyCode)&&!d.value.length)&&e.preventDefault()}),e.addEventListener("click",t=>{t.preventDefault(),a.forEach(e=>{validate(e)}),validateAll(a)&&(e.setAttribute("disabled","disabled"),e.textContent="claimed")}),modal.addEventListener("click",t=>{o.reset(),e.removeAttribute("disabled"),e.textContent="Claim your free trial"})};main();